---
id: 467
title: Clase StringBuilder en PHP
date: 2013-03-03T21:11:00+00:00
author: ovalenzuela
layout: post
guid: https://ovalenzueladotcom.wordpress.com/2013/03/03/clase-stringbuilder-en-php
permalink: /2013/03/clase-stringbuilder-en-php.html
blogger_blog:
  - www.ovalenzuela.com
blogger_author:
  - Andrés Barrera
blogger_02f5be51301771664ae7c1c72bf29246_permalink:
  - 4856814108204284727
categories:
  - Amigos
---
Buscando alternativas rápidas, preferí desarrollar una pequeña versión del StringBuilder de Java, pero para PHP. Esto es parte de un pequeño proyecto personal que estoy desarrollando.

Obviamente la clase está bajo GPLv3 y la idea es que vaya mejorando.

<pre>&lt;?php<br /><br />	/**<br />	 * Copyright (C) 2013 - Pablo Sepúlveda @psep <br />	 * <br />     * This file is part of gEvents.<br />	 * gEvents is free software: you can redistribute it and/or modify<br />	 * it under the terms of the GNU General Public License as published by<br />	 * the Free Software Foundation, either version 3 of the License, or<br />	 * any later version.<br />	 *<br />	 * gEvents is distributed in the hope that it will be useful,<br />	 * but WITHOUT ANY WARRANTY; without even the implied warranty of<br />	 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the<br />	 * GNU General Public License for more details.<br />	 *<br />	 * You should have received a copy of the GNU General Public License<br /> 	 * along with gEvents.  If not, see .<br />	 * <br />	 */<br />	final class StringBuilder{<br />		<br />		private $value = NULL;<br />		<br />		/*<br />		 * @param $st<br />		 * Concatena la cadena agregando valor. <br />		 */<br />		final public function append($st){<br />			$this-&gt;value = $this-&gt;value;<br />			$this-&gt;value .= $st;<br />		}<br /><br />		/*<br />		 * @param $intChar, $st<br />		 * Reemplaza caracter en cadena según posición (intChar) <br />		 */<br />		final public function setCharAt($intChar, $st){<br />			$intFinal	= $this-&gt;length();<br />			<br />			if($intChar &gt; ($intFinal-1)){<br />				throw new Exception("Error! valor es más grande que la cadena: ".$intFinal);			 	<br />			}else if(strlen($st)  1){<br />				throw new Exception("Error! Debe ser un sólo caracter");<br />			}else{<br />				$stInicio	= substr($this-&gt;value, 0, $intChar);<br />				$stFinal	= substr($this-&gt;value, $intChar + 1, $intFinal);<br />				$this-&gt;value= $stInicio;<br />				$this-&gt;value.= $st;<br />				$this-&gt;value.= $stFinal;<br />			}<br />		}<br />		<br />		/*<br />		 * @param posicion caracter<br />		 * Elimina de la cadena el número de caracter ingresado. <br />		 */ <br />		final public function deleteCharAt($intChar){<br />			$intFinal	= $this-&gt;length();<br />			<br />			if($intChar &gt; ($intFinal-1)){<br />				throw new Exception("Error! Excede cadena de caracteres");<br />			}else{<br />				$stInicio	= substr($this-&gt;value, 0, $intChar);<br />				$stFinal	= substr($this-&gt;value, $intChar + 1, $intFinal);<br />				$this-&gt;value= $stInicio;<br />				$this-&gt;value.= $stFinal;<br />			}<br />		}<br />		<br />		/*<br />		 * @param start, end, string<br />		 * Reemplaza cadena desde inicio a final definido<br />		 * con la cadena string ingresada.<br />		 */ <br />		final public function replace($start, $end, $st){<br />			$intFinal	= $this-&gt;length();<br />			if($start &gt; ($intFinal-1)){<br />				throw new Exception("Error! valor es más grande que la cadena: ".$intFinal);			 	<br />			}else{<br />				$stInicio	= substr($this-&gt;value, 0, $start);<br />				$stFinal	= substr($this-&gt;value, $end, $intFinal);<br />				$this-&gt;value= $stInicio;<br />				$this-&gt;value.= $st;<br />				$this-&gt;value.= $stFinal;<br />			}<br />		}<br />		<br />		/*<br />		 * @param inicio, final<br />		 * Elimina de la cadena según las posiciones ingresadas.<br />		 */ <br />		final public function delete($start, $end){<br />			$intFinal	= $this-&gt;length();<br />			<br />			if($start &gt; ($intFinal-1)){<br />				throw new Exception("Error! valor inicial es más grande que la cadena");<br />			}else{<br />				$stInicio	= substr($this-&gt;value, 0, $start);<br />				$stFinal	= substr($this-&gt;value, $end, $intFinal);<br />				$this-&gt;value= $stInicio;<br />				$this-&gt;value.= $stFinal;<br />			}<br />		}<br />		<br />		/*<br />		 * @return largo de la cadena<br />		 */ <br />		final public function length(){<br />			return strlen($this-&gt;value);<br />		}<br />		<br />		/*<br />		 * @param $intChar<br />		 * Deja en cadeja el número de caracteres solicitados.<br />		 */ <br />		final public function setLength($intChar){<br />			$this-&gt;value = substr($this-&gt;value, 0, $intChar);<br />		}<br />		<br />		/*<br />		 * @param $start, $end<br />		 * @return cadena cortada<br />		 * Según inicio y final ingresados.<br />		 */<br />		final public function substring($start, $end){<br />			return substr($this-&gt;value, $start, $end);<br />		}<br />		<br />		/*<br />		 * @param posición, string<br />		 * Inserta caracteres ingresados según posición.<br />		 */ <br />		final public function insert($posicion, $st){<br />			$maxlength = $this-&gt;length();<br />			<br />			if($posicion &gt; ($maxlength-1)){<br />				throw new Exception("Error! posición excede cadena");<br />			}else{<br />				$stInicio	= substr($this-&gt;value, 0, $posicion);<br />				$stFinal	= substr($this-&gt;value, $posicion, $maxlength);<br />				$this-&gt;value= $stInicio;<br />				$this-&gt;value.= $st;<br />				$this-&gt;value.= $stFinal;<br />			}<br />		}<br />		<br />		/*<br />		 * Invierte la cadena $value.<br />		 */ <br />		final public function reverse(){<br />			$maxlength	= $this-&gt;length();<br />			$reverse	= NULL; <br />			<br />			for($i = $maxlength; $i &gt; 0; $i--){<br />				$reverse.= substr($this-&gt;value, ($i - 1), 1);<br />			}<br />			<br />			$this-&gt;value = $reverse;<br />		}<br />		<br />		/*<br />		 * @return caracter según número. <br />		 */ <br />		final public function charAt($int){<br />			$largo = $this-&gt;length();<br />			<br />			if($int &gt; ($largo - 1)){<br />				throw new Exception("Error! valor es más grande que la cadena: ".$largo);<br />			}else{<br />				return substr((substr($this-&gt;value, $int)), 0, 1);	<br />			}<br />		}<br />		<br />		/*<br />		 * @return valor de posición en cadena<br />		 */ <br />		final public function indexOf($st){<br />			if($st == null || $st == ""){<br />				throw new Exception("Error! valor a buscar es nulo o vacío");<br />			}else{<br />				return strpos($this-&gt;value, $st);<br />			}					<br />		}<br />		<br />		/*<br />		 * @return cadena<br />		 */<br />		final public function toString(){<br />			return $this-&gt;value;<br />		}<br />		<br />		/*<br />		 * Limpia $value<br />		 */<br />		final public function setReset(){<br />			$this-&gt;value = NULL;<br />		}<br />		<br />	}<br />	<br /><br />?&gt;</pre>