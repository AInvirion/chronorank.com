---
id: 444
title: Clase Iterator (tipo Java) en PHP y update de ArrayList
date: 2013-03-18T00:28:00+00:00
author: ovalenzuela
layout: post
guid: https://ovalenzueladotcom.wordpress.com/2013/03/18/clase-iterator-tipo-java-en-php-y-update-de-arraylist
permalink: /2013/03/clase-iterator-tipo-java-en-php-y-update-de-arraylist.html
blogger_blog:
  - www.ovalenzuela.com
blogger_author:
  - Andrés Barrera
blogger_02f5be51301771664ae7c1c72bf29246_permalink:
  - 6684020013905220505
categories:
  - Amigos
---
Viendo que la implementación de este patrón en PHP era pobre, decidí hacer mi propia clase tomando las características del Iterator de Java, así como ya lo hice con <a title="StringBuilder en PHP" href="http://www.psep.cl/2013/03/03/clase-stringbuilder-en-php/" target="_blank">StringBuilder.</a>

<pre>&lt;?php<br /><br />        /**<br />     	 * Copyright (C) 2013 - Pablo Sepúlveda @psep<br />         *<br />	 * IteratorPattern v1.0a<br />	 *<br />     	 * This file is part of gEvents.<br />     	 * gEvents is free software: you can redistribute it and/or modify<br />     	 * it under the terms of the GNU General Public License as published by<br />    	 * the Free Software Foundation, either version 3 of the License, or<br />     	 * any later version.<br />     	 *<br />     	 * gEvents is distributed in the hope that it will be useful,<br />     	 * but WITHOUT ANY WARRANTY; without even the implied warranty of<br />     	 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the<br />     	 * GNU General Public License for more details.<br />     	 *<br />     	 * You should have received a copy of the GNU General Public License<br />	 * along with gEvents.  If not, see .<br />	 *<br />	 */<br />	class IteratorPattern{<br /><br />		private $position;<br />		private $sizeList;<br />		private $array;<br /><br />		function __construct($list){<br />			$this-&gt;position	= 0;<br />			$this-&gt;array	= $list;<br />			$this-&gt;sizeList = $this-&gt;size();		<br />		}<br /><br />		/*<br />		 * @return tamaño de la lista<br />		 */<br />		private function size(){<br />			$size = 0;<br /><br />			foreach ($this-&gt;array as $item) {<br />        			$size++;<br />      			}<br /><br />			return $size;		<br />		}<br /><br />		/*<br />		 * @return boolean<br />		 * <br />		 * Retorna true cuando el puntero (position) <br />		 * está dentro de la lista.<br />		 */<br />		public function hasNext(){<br />			$result = false;<br /><br />			if($this-&gt;position == 0 && $this-&gt;sizeList &gt; 0){<br />				$result	= true;	<br />			}else if($this-&gt;position sizeList){<br />				$result	= true;<br />			}<br /><br />			return $result;		<br />		}<br /><br />		/*<br />		 * @return item de la lista según posición<br />		 */<br />		public function next(){<br />			$item = NULL;<br /><br />			if($this-&gt;position sizeList){<br />				$item = $this-&gt;array[$this-&gt;position];<br />				$this-&gt;position++;<br />			}<br /><br />			return $item;<br />		}	<br /><br />	}<br /><br />?&gt;</pre>

La clase lleva por nombre IteratorPattern para diferenciarse de la Interface Iterator de PHP (nombre protegido).

Así también hice unas mejoras para la clase <a title="ArrayList en PHP" href="http://www.psep.cl/2012/10/12/clase-arraylist-en-php/" target="_blank">ArrayList</a> que hice un tiempo atrás:

<pre>&lt;?php<br /><br />	/*<br />	 * Copyright (C) 2013 - Pablo Sepúlveda @psep<br />     	 *<br />	 * ArrayList v1.5a<br />	 *<br />     	 * This file is part of gEvents.<br />     	 * gEvents is free software: you can redistribute it and/or modify<br />     	 * it under the terms of the GNU General Public License as published by<br />     	 * the Free Software Foundation, either version 3 of the License, or<br />     	 * any later version.<br />     	 *<br />      	 * gEvents is distributed in the hope that it will be useful,<br />     	 * but WITHOUT ANY WARRANTY; without even the implied warranty of<br />     	 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the<br />     	 * GNU General Public License for more details.<br />     	 *<br />     	 * You should have received a copy of the GNU General Public License<br />     	 * along with gEvents.  If not, see .<br />     	 *<br />     	 */<br />	class ArrayList {<br /><br />		private $array = array();<br /><br />		/*<br />		 * @return valor del ArrayList<br />		 */<br />		public function getArrayList(){<br />			return $this-&gt;array;<br />		}<br /><br />		/*<br />		 * Limpia el array()<br />		 */<br />		public function clear(){<br />			$this-&gt;array = array();<br />		}<br /><br /> 		/*<br />		 * @param $item<br />		 * <br />		 * Agrega un nuevo item al array<br />		 */<br />    		public function add($item){<br />      			$this-&gt;array[] = $item ;<br />    		}<br /><br /> 		/*<br />		 * @return array como una cadena de string<br />		 */<br />    		public function toString(){<br />    			$cadena = "";<br />      			foreach ($this-&gt;array as $item) {<br />        			$cadena .= $item;<br />      			}<br />      			return $cadena;<br />    		}<br /><br /> 		/*<br />		 * @param $item<br />		 * <br />		 * Remueve un item determinado del array<br />		 */<br />    		public function remove($item){<br />    			unset($this-&gt;array[$item]);<br />    		}<br /><br />		/*<br />		 * @param $item<br />		 * <br />		 * Retorna un item determinado<br />		 */<br />    		public function get($item){<br />			return $this-&gt;array[$item];<br />    		}<br /><br /> 		/*<br />		 * @return tamaño del array<br />		 */<br /> 		public function size(){<br />    			$size = 0;<br />      			foreach ($this-&gt;array as $item) {<br />        			$size++;<br />      			}<br />      			return $size;<br />    		}<br /><br />	}<br />?&gt;</pre>

Todas las clases que he hecho y que haré como implementaciones las iré subiendo al proyecto <a title="my-php-classes" href="https://code.google.com/p/my-php-classes/" target="_blank">“My PHP Classes”</a> en Code Google para que queden a libre disposición. Pronto redactaré la wiki en el proyecto para que usuarios nóveles puedan usar las clases de manera fácil.